<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.scss">
    <link rel="stylesheet" href="https://codepen.io/GreenSock/pen/xxmzBrw/fcaef74061bb7a76e5263dfc076c363e.css">
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/MotionPathPlugin.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/TextPlugin.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/Observer.min.js"></script>
    <script src="https://unpkg.com/scrollreveal"></script>
    <script src="main.js" type="module"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.7/ScrollToPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.7/SplitText.min.js"></script>
    <script src="main.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&family=Oswald:wght@200..700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">
</head>
  
<body>
    
    <section id="espace">
        <div id="pluiemeteore"></div>

        <div class="systemeSolaire">

            <div class="accueil">
                <h1 id="titre" tabindex="1">L'espace</h1>
                <video autoplay muted loop id="myVideo">
                    <source src="img/galaxy stock video...  copyright free galaxy video.mp4" type="video/mp4" autoplay muted loop >
                </video>
                <button id="startMeteorShower" tabindex="2">Start The Meteor Shower</button>
                
            </div>

            <div id="shootingStar"></div>




            <div class="soleil">
                <div>
                    <h1 tabindex="3">L’étoile mystérieuse</h1>
                    <p tabindex="4">Le Soleil est une étoile. Il est notre étoile, au centre de notre Système solaire. Son diamètre, 1,4 million de km, est environ 110 fois plus grand que celui de la Terre. Et le Soleil représente à lui seul 99,9% de toute la masse du Système solaire.</p>
                </div>
                <img src="https://pngimg.com/uploads/sun/sun_PNG13424.png" tabindex="5" alt="Photo Soleil" id="soleil">
            </div>
            <div class="mercure">
                <div>
                    <h1 tabindex="6">La petite Mercure</h1>
                    <p tabindex="7">Mercure est une planète tellurique, c’est-à-dire faite de roches, comme ses voisines Vénus, Mars et la Terre. Mais elle présente la particularité d’avoir un noyau surdéveloppé et d’être essentiellement composée de fer.</p>
                </div>
                <img tabindex="8" src="https://static.vecteezy.com/system/resources/previews/048/412/678/non_2x/mercury-planet-on-transparent-backdrop-free-png.png" alt="photo Mercure" id="mercure">
            </div>
            <div class="venus">
                <div>
                    <h1 tabindex="9">L’infernale Vénus</h1>
                    <p tabindex="10">Il faut dire que c’est la deuxième planète la plus proche du Soleil, à une distance de 108 millions de km. Mais s’il fait aussi chaud, c’est aussi parce que l’atmosphère de Vénus est composée à 96% de dioxyde de carbone (CO₂), à l’origine d’un puissant effet de serre. C’est-à-dire que ce gaz absorbe les rayonnements infrarouges et retient ainsi l’énergie solaire, ce qui augmente la température de la surface. Vénus est donc une planète inhospitalière.</p>
                </div>
                <img tabindex="11" src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Venus_globe_-_transparent_background.png/2048px-Venus_globe_-_transparent_background.png" alt="Photo Vénus" id="venus">
            </div>
            <div id="espaceTerreLune">
                <div class="terre">
                    <div>
                        <h1 tabindex="12">Une très grosse pêche toute dure</h1>
                        <p tabindex="13">La Terre est l’une des 4 planètes rocheuses (ou telluriques) avec Mercure, Vénus et Mars. La plus grande des 4, avec un diamètre de 12 700 km. La Terre est structurée comme… une pêche ! Au centre se trouve le noyau, entouré d’une couche épaisse appelée le manteau, elle-même recouverte d’une fine pellicule, la croûte. La peau de pêche ! </p>
                    </div>
                    <img tabindex="14" src="https://upload.wikimedia.org/wikipedia/commons/2/22/Earth_Western_Hemisphere_transparent_background.png" alt="Photo Terre" id="terre">
                </div>
                <div class="lune">
                    <div>
                        <h1 tabindex="15">La Lune, une cousine de la Terre… peu hospitalière</h1>
                        <p tabindex="16">La Lune est une cousine de la Terre. Elle est composée des mêmes constituants que notre planète, car elle serait née d’un morceau de Terre, arraché lors d’une collision entre la jeune Terre en formation et une petite planète appelée Théia. C’était il y a environ 4,5 milliards d’années. Le choc a éjecté des matériaux en fusion qui se sont mis en orbite autour de notre planète où ils se sont agglomérés entre eux : la Lune était née. </p>
                    </div>
                    <img tabindex="17" src="https://upload.wikimedia.org/wikipedia/commons/3/33/Lune_ico.png" alt="Photo Lune" id="lune">
                </div>
            </div>
            <div class="mars">
                <div>
                    <h1 tabindex="18">L’étonnante petite rouge</h1>
                    <p tabindex="19">C’est une petite planète : par rapport à la Terre, elle est 7 fois moins volumineuse et 10 fois moins massive. Nous lui donnons aussi le nom de « planète rouge », car sa surface est recouverte de poussière riche en oxyde de fer, à l’origine de sa couleur rougeâtre (couleur de la rouille). Même si elle ressemble à un immense désert aride, détrompez-vous : il fait à sa surface -60°C en moyenne ! Il y fait froid parce qu’elle se situe plus loin du Soleil que la Terre : à 228 millions de km (contre 150 millions de km pour la distance Terre-Soleil). Aussi, son atmosphère est très fine, et ne retient pas la chaleur générée par l’énergie solaire. </p>
                </div>
                <img tabindex="19" src="https://upload.wikimedia.org/wikipedia/commons/1/18/Mars_Valles_Marineris_d%C3%A9tour%C3%A9.png" alt="Photo Mars" id="mars">
            </div>
            <div class="jupiter">
                <div>
                    <h1 tabindex="20">Jupiter, géante gazeuse</h1>
                    <p tabindex="21">Jupiter tient son nom du roi des dieux dans la mythologie romaine. Il faut dire qu’elle s’impose au milieu des 8 autres planètes de notre Système solaire : elle est la plus grande et la plus massive. Avec ses 13 9822 km de diamètre, Jupiter pourrait contenir plus de 1 300 Terres et elle est 2,5 fois plus massive que la totalité des autres planètes réunies. </p>
                </div>
                <img tabindex="22" src="jupiter.png" alt="Photo Jupiter" id="jupiter">
            </div>
            <div class="saturne">
                <div>
                    <h1 tabindex="23">Saturne, une gigantesque boule de gaz</h1>
                    <p tabindex="24">Saturne est la 6ᵉ planète en partant du Soleil, située à 1,4 milliard de km de notre étoile. Elle est aussi la 2ᵉ plus grosse planète du Système solaire, après Jupiter. Sa taille et sa composition lui valent le nom de géante gazeuse”. Géante, parce qu’on pourrait faire rentrer 770 planètes Terres dans son volume.</p>
                </div>
                <img tabindex="25" src="https://upload.wikimedia.org/wikipedia/commons/4/43/Saturnx.png" alt="Photo Saturne" id="saturne">
            </div>
            <div class="uranus">
                <div>
                    <h1 tabindex="26">Uranus, la planète la plus froide</h1>
                    <p tabindex="27">Uranus fait partie de la catégorie des géantes glacées qui se distinguent des planètes gazeuses, des grosses planètes entièrement recouvertes de gaz - principalement de l’hydrogène et de l’hélium - telles que Jupiter ou Saturne. N'imaginez pas vous promener sur Uranus, les géantes gazeuses et glacées n’ont pas de surface solide !</p>
                </div>
                <img tabindex="28" src="uranus.png" alt="Photo Uranus" id="uranus">
            </div>
            <div class="neptune">
                <div>
                    <h1 tabindex="29">Neptune, la géante de glace</h1>
                    <p tabindex="30">Neptune est la dernière planète de notre Système solaire, située à 4,5 milliards de km de notre étoile, au-delà d’Uranus. La ressemblance entre les 2 planètes est telle que l’on pourrait presque parler de jumelles ! </p>
                </div>
                <img tabindex="31" src="neptune.png" alt="Photo Neptune" id="neptune">
            </div>
        </div>
    </section>

    <script>
        // Animation des météorites
        document.getElementById('startMeteorShower').addEventListener('click', () => {
            const pluiemeteore = document.getElementById('pluiemeteore');

            function createMeteor() {
                const meteor = document.createElement('img');
                meteor.src = '../img/meteor.png';
                meteor.classList.add('meteor');
                meteor.style.position = 'absolute';
                meteor.style.width = '100px';
                meteor.style.height = '100px';
                meteor.style.top = '-100px';
                meteor.style.transform = 'rotate(-10deg)';
                meteor.style.left = `${20+Math.random() * window.innerWidth+50}px`;
                meteor.style.zIndex = 15000;

                pluiemeteore.appendChild(meteor);
                return meteor;
            }

            function animateMeteor(meteor) {
                gsap.to(meteor, {
                    x: 400 - 1800,
                    y: innerHeight +1000,
                    duration: 1,
                    ease: 'power1.in',
                    onComplete: () => meteor.remove()
                });
            }

            let intervalId = setInterval(() => {
                for (let i = 0; i < 2; i++) {
                    const meteor = createMeteor();
                    animateMeteor(meteor);
                }
            }, 50);

            setTimeout(() => {
                clearInterval(intervalId);
            }, 5000);
        });

ScrollReveal().reveal('.soleil>div', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'right',
  distance: '5000px',
  reset: true
});
ScrollReveal().reveal('.soleil img', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'left',
  distance: '5000px',
  reset: true
});

ScrollReveal().reveal('.mercure>div', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'left',
  distance: '5000px',
  reset: true
});
ScrollReveal().reveal('.mercure img', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'right',
  distance: '5000px',
  reset: true
});

ScrollReveal().reveal('.venus>div', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'right',
  distance: '5000px',
  reset: true
});
ScrollReveal().reveal('.venus img', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'left',
  distance: '5000px',
  reset: true
});

ScrollReveal().reveal('.terre>div', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'right',
  distance: '5000px',
  reset: true
});
ScrollReveal().reveal('.terre img', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'left',
  distance: '5000px',
  reset: true
});

ScrollReveal().reveal('.lune>div', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'right',
  distance: '5000px',
  reset: true
});
ScrollReveal().reveal('.lune img', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'left',
  distance: '5000px',
  reset: true
});

ScrollReveal().reveal('.mars>div', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'right',
  distance: '5000px',
  reset: true
});
ScrollReveal().reveal('.mars img', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'left',
  distance: '5000px',
  reset: true
});

ScrollReveal().reveal('.jupiter>div', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'left',
  distance: '5000px',
  reset: true
});
ScrollReveal().reveal('.jupiter img', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'right',
  distance: '5000px',
  reset: true
});

ScrollReveal().reveal('.saturne>div', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'right',
  distance: '5000px',
  reset: true
});
ScrollReveal().reveal('.saturne img', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'left',
  distance: '5000px',
  reset: true
});

ScrollReveal().reveal('.uranus>div', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'left',
  distance: '5000px',
  reset: true
});
ScrollReveal().reveal('.uranus img', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'right',
  distance: '5000px',
  reset: true
});

ScrollReveal().reveal('.neptune>div', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'right',
  distance: '5000px',
  reset: true
});
ScrollReveal().reveal('.neptune img', {
  delay: 0,
  opacity: 0,
  duration: 1000,
  origin: 'left',
  distance: '5000px',
  reset: true
});


        gsap.utils.toArray('.planet-text').forEach(planetText => {
            gsap.fromTo(planetText, {
                opacity: 0,
                y: 50,
            }, {
                opacity: 1,
                y: 0,
                duration: 1.5,
                scrollTrigger: {
                    trigger: planetText,
                    start: "top 80%",  // Déclenchement quand la planète est à 80% de la fenêtre
                    once: true,        // L'animation ne se produit qu'une seule fois
                    toggleActions: "play none none none", // Pas de réinitialisation
                }
            });
        });

        gsap.registerPlugin(ScrollTrigger);

        gsap.registerPlugin(TextPlugin)
let titre = document.querySelector('#titre');
gsap.to(titre, {
  duration: 2,
  delay: 3,
  text: "Découvrez notre système solaire",
  ease: "none",
  repeat: -1,
  repeatDelay: 3,
  yoyo:true
});


document.addEventListener("DOMContentLoaded", () => {
    const star = document.createElement("div");
    star.id = "shootingStar";
    document.body.appendChild(star);

    Object.assign(star.style, {
        position: "fixed",
        width: "30px",
        height: "30px",
        backgroundColor: "white",
        borderRadius: "50%",
        boxShadow: "0 0 10px white",
        top: "48.5vh",
        left: "75vw",
        zIndex: "1"

    });

    const zigZagPath = [
        { x: 0, y: 0 },
        { x: "-950vw", y: "10vh" },
        { x: "-100vw", y: "20vh" },
        { x: "-20vw", y: "40vh" },
        { x: "40vw", y: "60vh" },
        { x: "30vw", y: "80vh" },
        { x: "-550vw", y: "100vh" },
        { x: "60vw", y: "120vh" },
        { x: "70vw", y: "140vh" },
        { x: "80vw", y: "160vh" },
        { x: "-950vw", y: "180vh" },
        { x: "100vw", y: "200vh" },
        { x: "-950vw", y: "10vh" },
        { x: "100vw", y: "20vh" },
        { x: "20vw", y: "40vh" },
        { x: "-540vw", y: "60vh" },
        { x: "30vw", y: "80vh" },
        { x: "50vw", y: "100vh" },
        { x: "-660vw", y: "120vh" },
        { x: "70vw", y: "140vh" },
        { x: "80vw", y: "160vh" },
        { x: "-990vw", y: "180vh" },
        { x: "100vw", y: "200vh" },

        
    ];

    let lastScroll = window.scrollY;

    window.addEventListener("scroll", () => {
        let scrollPos = window.scrollY;
        let progress = Math.min(scrollPos / (document.body.scrollHeight - window.innerHeight), 1);
        let index = Math.floor(progress * (zigZagPath.length - 1));
        let nextIndex = Math.min(index + 1, zigZagPath.length - 1);
        
        let start = zigZagPath[index];
        let end = zigZagPath[nextIndex];
        let localProgress = (progress * (zigZagPath.length - 1)) % 1;
        
        let newX = parseFloat(start.x) + (parseFloat(end.x) - parseFloat(start.x)) * localProgress;
        let newY = parseFloat(start.y) + (parseFloat(end.y) - parseFloat(start.y)) * localProgress;
        
        gsap.to(star, { x: newX, y: newY, duration: 0.3, ease: "power1.out" });
    });
});


    </script>
</body>
</html>
